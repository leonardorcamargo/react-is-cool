{"ast":null,"code":"import _regeneratorRuntime from \"/home/leonardo/development/meetup/madrugada-react/react-is-cool/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/leonardo/development/meetup/madrugada-react/react-is-cool/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/leonardo/development/meetup/madrugada-react/react-is-cool/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/leonardo/development/meetup/madrugada-react/react-is-cool/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport axios from 'axios';\nimport Presence from '../model/Presence';\n\nvar PresenceApi =\n/*#__PURE__*/\nfunction () {\n  function PresenceApi() {\n    _classCallCheck(this, PresenceApi);\n\n    this.path = 'http://localhost:3001/presences';\n  }\n\n  _createClass(PresenceApi, [{\n    key: \"get\",\n    value: function () {\n      var _get = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var _ref, data;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return axios.get(this.path);\n\n              case 3:\n                _ref = _context.sent;\n                data = _ref.data;\n                return _context.abrupt(\"return\", data.map(function (item) {\n                  return new Presence(item);\n                }));\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](0);\n                console.log('Erro ao buscar presenças: ', _context.t0);\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 8]]);\n      }));\n\n      function get() {\n        return _get.apply(this, arguments);\n      }\n\n      return get;\n    }()\n  }, {\n    key: \"post\",\n    value: function () {\n      var _post = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(presence) {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return axios.post(this.path, JSON.stringify(presence));\n\n              case 3:\n                _context2.next = 8;\n                break;\n\n              case 5:\n                _context2.prev = 5;\n                _context2.t0 = _context2[\"catch\"](0);\n                console.log('Erro ao postar presença: ', _context2.t0);\n\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[0, 5]]);\n      }));\n\n      function post(_x) {\n        return _post.apply(this, arguments);\n      }\n\n      return post;\n    }()\n  }]);\n\n  return PresenceApi;\n}();\n\nexport default PresenceApi;","map":{"version":3,"sources":["/home/leonardo/development/meetup/madrugada-react/react-is-cool/src/api/PresenceApi.js"],"names":["axios","Presence","PresenceApi","path","get","data","map","item","console","log","presence","post","JSON","stringify"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,mBAArB;;IAEMC,W;;;AACF,yBAAc;AAAA;;AACV,SAAKC,IAAL,GAAY,iCAAZ;AACH;;;;;;;;;;;;;;;;uBAMiBH,KAAK,CAACI,GAAN,CAAU,KAAKD,IAAf,C;;;;AADNE,gBAAAA,I,QAAAA,I;iDAEGA,IAAI,CAACC,GAAL,CAAS,UAAAC,IAAI;AAAA,yBAAI,IAAIN,QAAJ,CAAaM,IAAb,CAAJ;AAAA,iBAAb,C;;;;;AAEPC,gBAAAA,OAAO,CAACC,GAAR,CAAY,4BAAZ;;;;;;;;;;;;;;;;;;;;;iDAIGC,Q;;;;;;;uBAEGV,KAAK,CAACW,IAAN,CAAW,KAAKR,IAAhB,EAAsBS,IAAI,CAACC,SAAL,CAAeH,QAAf,CAAtB,C;;;;;;;;;AAENF,gBAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ;;;;;;;;;;;;;;;;;;;;;AAKZ,eAAeP,WAAf","sourcesContent":["import axios from 'axios';\nimport Presence from '../model/Presence';\n\nclass PresenceApi {\n    constructor() {\n        this.path = 'http://localhost:3001/presences'\n    }\n\n    async get() {\n        try {\n            const {\n                data\n            } = await axios.get(this.path);\n            return data.map(item => new Presence(item));\n        } catch (e) {\n            console.log('Erro ao buscar presenças: ', e);\n        }\n    }\n\n    async post(presence) {\n        try {\n            await axios.post(this.path, JSON.stringify(presence));\n        } catch (e) {\n            console.log('Erro ao postar presença: ', e);\n        }\n    }\n}\n\nexport default PresenceApi;"]},"metadata":{},"sourceType":"module"}